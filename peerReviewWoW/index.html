<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>PSE Development WoW</title>

		<meta name="description" content="Why do I keep getting into these problems?">
		<meta name="author" content="Carmen JimÃ©nez">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>PSE Development Way of Working</h1>
					<h3>How we work... <span class="fragment roll-in">and most important, why we do it that way</span></h3>
          <p>
	          <small>Carmen (cjc@tokbox.com)</small>
					</p>
				</section>
				<section>
					<section>
						<h2>What's this about?</h2>
          </section>
          <section>
            <h3>Developing software and having fun</h3>
            <p>AKA, developing software in a way that:
              <ul>
                <li class="fragment roll-in">
                  Allows more than one developer to have inkling of how any part of the code is implemented...
                  <span class="fragment roll-in">... and why it is that way.</span>
                </li>
                <li class="fragment roll-in">Gives everybody a sense of ownership of the code.</li>
                <li class="fragment roll-in">And maybe makes us commit fewer errors!. More eyes on the code means a better probability of catching bugs before they bite you.</li>
                <li class="fragment roll-in">Code that has the strenghts of all the team.</li>
              </ul>
            </p>
          </section>
          <section>
						<h3>Or rather...</h3>
          </section>
          <section>
						<h2>What is this NOT about?</h2>
          </section>
          <section>
						<h2>Forcing you to change the way you work</h2>
            <p>This is just something that works for us and we thought it would be cool to share.</p>
          </section>
        </section>
        <section>
          <section>
            <h2>Why do we work this way</h2>
            <ul>
              <li class="fragment roll-in">
                'Cause it works!
              </li>
              <li class="fragment roll-in">
                Although to be honest for us it was somewhat of an imposition
              </li>
              <li class="fragment roll-in">
                Mozilla works in a similar way, and on FFOS (FE) they got some ideas from TEF (two
                weeks sprints, US...) and we got some from them (peer reviews!)
              </li>
              <li class="fragment roll-in">
                Although in Mozilla <i>peer</i> doesn't seem to mean the same than in the rest of
                the world and some peers are more equal than the rest.
              <li class="fragment roll-in">
                In Mozilla modules have <i>owners</i> which have the definite word on features,
                architecture and such, <i>peers</i> which are a subset of the developers than can
                actually approve reviews (and everything needs a review from a peer before landing)
                and then there's the rest of the world.
              </li>
            </ul>
          </section>
          <section>
            <h3>Why does it work?
              <span class="fragment roll-in">For us it has a set of advantages</span>
            </h3>
            <ul>
              <li class="fragment roll-in">
                <b>Code is more uniform:</b> All the code ends having a <i>look and
                feel</i> beyond the usual style rules, that makes it look more consistent.
              </li>
              <li class="fragment roll-in">
                <b>Fewer bugs:</b> Having at least an extra pair of eyes check the code means double
                the chance (more actually!) of picking up some bugs.
              </li>
              <li class="fragment roll-in">
                <b>Make better use of the team abilities:</b> Usually each member of the team has a
                different set of abilities and even approach to development. By reviewing each
                other's code we get a code that has a mix of the abilities of at least two
                members. Both the reviewer and the reviewee can even learn something new!
              </li>
              <li class="fragment roll-in">
                <b>Avoid regressions:</b> Two set of eyes == bigger probability of detecting side
                effects!
              </li>
              <li class="fragment roll-in">
                <b>Better ownership sense:</b> On a small team everybody ends reviewing everybody
                else code, code ownership tends to diffuse. It's no longer yours or his or mine,
                it's ours. Specially when it fails ;)
              </li>
            </ul>
          </section>
          <section>
            <h3>So in short</h3>
              <p class="fragment roll-in">
                <b>Better overall code:</b> It's hard to explain but it goes beyond all of the
                above. It might be that since you <b>know</b> that your code is going to be read
                (and judged!) you put some extra care into it... But the end result is better code!
            </p>
          </section>
          <section>
            <h2>So are all advantages?</h2>
            <h3 class="fragment roll-in">Nope</h3>
            <ul>
              <li class="fragment roll-in">
                At first look it might seems that you know have more work: Your own and the code
                review from the rest of the team!
              </li>
              <li class="fragment roll-in">
                And at second look, and at third look...
              </li>
              <li class="fragment roll-in">
                ... cause you actually <b>have</b> more work now!
              </li>
              <li class="fragment roll-in">
                Having to wait for review adds some extra time between when you finish something and
                when that is actually landed.
              </li>
              <li class="fragment roll-in">
                And don't get me started about arguments!
              </li>
            </ul>
<p></p>
            <h4 class="fragment roll-in">The trick is taking all of the above into account and
            factoring it on both the effort and time estimations</h4>
          </section>
        </section>
        <section>
          <section>
            <h1>Beyond code review WoW</h1>
            <h2>Just a quick view to how we organize<h2>
          </section>
          <section>
            <h3>Beyond code review WoW, space view</h3>
            <ul>
              <li class="fragment roll-in">
                Somebody defines, more or less what we should build. Somebody: a partner, BD,
                product...
              </li>
              <li class="fragment roll-in">
                We define user stories based on that, and organize them in 2-3 weeks sprints. The
                idea is having something we can show at the end of each sprint.
              </li>
              <li class="fragment roll-in">
                We split the US into subtasks, which will be how we organize/land code changes.
              </li>
            </ul>
          </section>
        </section>
        <section>
          <section>
            <h3>Git WoW</h3>
            <ul>
              <li class="fragment roll-in">
                We create a main/master repo for the project.
              </li>
              <li class="fragment roll-in">
                And each of us forks the master repo. We work on our own fork always...
              </li>
              <li class="fragment roll-in">
                And only land on the main repo via Pull Requests, never by directly pushing to it.
              </li>
            </ul>
          </section>
          <section>
            <h2>Or so the theory goes.</h2>
            <h3 class="fragment roll-in">The definition of <i>always</i> and <i>never</i> is subject
              to change though:</h3>
            <img class="fragment roll-in" src="imgs/ruleexception.png">
          </section>
        </section>
        <section>
          <section>
            <h2>Review process</h2>
            <ol>
              <li class="fragment roll-in">
                On the PR, tell who you would like to review the code with something like:
                <pre>
r? @userid
                </pre>
              </li>
              <li class="fragment roll-in">
                Reviewer tests the PR (hopefully :P) and does a first pass of style.
              </li>
              <li class="fragment roll-in">
                Then he does a deeper pass trying to understand how and why is the code organized
                that way. He notes his <a href="https://github.com/opentok/OpenTokRTC-V2-Android/pull/56#discussion-diff-63472988" target="_blank">questions</a>, or
                <a href="https://github.com/opentok/OpenTokRTC-V2-Android/pull/60#discussion-diff-63719012"
                target="_blank">just his comments!</a>
              </li>
              <li class="fragment roll-in">
                He <a href="https://github.com/opentok/OpenTokRTC-V2-Android/pull/55#discussion-diff-63599367"
                target="_blank">requests</a> any changes
                he <a href="https://github.com/opentok/OpenTokRTC-V2-Android/pull/25#discussion-diff-62014452" 
                target="_blank">deems necessary.</a>
              </li>
              </ol>
          </section>
          <section>
            <ol start=5>
              <li class="fragment roll-in">
                The author answers the questions and implements any changes he wants to accept.
              </li>
              <li class="fragment roll-in">
                If he doesn't want to accept a given change, he can
                <a href="https://github.com/opentok/OpenTokRTC-V2-Android/pull/33#discussion-diff-62197868"
                target="_blank">give his reason and just don't do it.</a>
              </li>
              <li class="fragment roll-in">
                Or argue on the review...
              </li>
              <li class="fragment roll-in">
                Or argue it offline...
              </li>
              <li class="fragment roll-in">
                Or even take it outside! (JK, JK :P)
              </li>
            </ol>
          </section>
        </section>
        <section>
          <h2>Some tips...</h2>
          <ul>
            <li class="fragment roll-in">
              While a review is in process you can (should in fact) keep getting new tasks!
            </li>
            <li class="fragment roll-in">
              So you can have several PRs in flight. And that means that sooner or later you're
              going to have to rebase.
            </li>
            <li class="fragment roll-in">
              <b>Use the tools!</b> try to use Git own's review
              tools, and do as much of the review in place. That adds traceability... and sometimes
              makes for a fun read :P.
            </li>
            <li class="fragment roll-in">
              As a reviewer, don't be afraid of ask for the reason of something, or ask for
              changes. Maybe it's something you don't know and you'll learn something, maybe it's an
              error!
            </li>
            <li class="fragment roll-in">
              As a reviewee, well, it sucks when your nicely done PR is gutted! But maybe you'll
              also learn something in the exchange!
            </li>
          </ul>
          <h4 class="fragment roll-in">In general, try to keep in mind that improving the code &gt; winning an argument ;)</h4>
        </section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
